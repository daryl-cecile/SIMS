<!doctype html>
<html lang="en">

<head>
	<%- include('./meta') %>
	<title>Report</title>
	<%- include('./imports') %>
	<link rel="stylesheet" href="/public/styles/report.css">
</head>

<body>

	<div class="header">
		<img class="header__logo" src="/public/res/sims-logo-full.png" alt="SIMS Logo">
		<p class="header__subtitle">Slackers Inventory Management System</p>
	</div>

	<div class="statement-info">
		<div class="user-details">
			<p class="user-details__requested">Requested by:</p>
			<p class="user-details__name"><strong><%= currentUserName %></strong></p>
			<p class="user-details__id"><%= currentUserId %></p>
		</div>


		<table class="statement-period">
			<tr><th>Statement Period</th></tr>
			
			<tr><td class="statement-period__dates"><strong><%= (new Date("2020-01-01")).toISOString().split("T")[0] %></strong> to <strong><%= (new Date()).toISOString().split("T")[0] %></strong></td></tr>
		</table>
	</div>

	<div class="statement-main">
		<table class="statement-table">
			<tr class="statement-table__headers">
				<th>Transaction ID</th>
				<th>Transaction Type</th>
				<th>Date</th>
				<th>User</th>
				<th>Item</th>
				
			</tr>

			<% for (let transaction of transactions){ %>

			<tr class="statement-table__rows">
				<td><%= transaction.transactionId %></td>
				<td><%= transaction.transactionType %></td>
				<td><%= transaction.transactionDate.toISOString().split("T")[0] %></td>
				<td><%= transaction.transactionOwner %></td>
				<td> <% for (let item of transaction.items){ %> <span><%= item.name %> <i style="opacity: 0.5">x<%= item.count %></i></span>
					<% } %> </td>
				
			</tr>

			<% } %>

		</table>
	</div>
</body>

</html>